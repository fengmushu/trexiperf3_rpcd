<!doctype html>
<html lang="utf-8">

<head>
    <script src="jquery-ui/external/jquery/jquery.js"></script>
    <script src="json2.js"></script>
    <link href="./jquery-ui/themes/dark-hive/jquery-ui.css" rel="stylesheet">
    <link href="./jquery-ui/themes/dark-hive/theme.css" rel="stylesheet">
    <link href="./style.css" rel="stylesheet">
</head>

<body>
    <fieldset id="f_global_config">
        <!-- <legend>Global configuration</legend> -->
        <div id="controlgroup">
            <select id="list_stream_type">
                <option>Cisco-Trex</option>
                <option selected>Iperf3</option>
                <option>Ixchariot</option>
            </select>
            <label for="transmission_ul">UP-Link</label>
            <input type="radio" name="transmission" id="transmission_ul" checked>
            <label for="transmission_dl">Down-Link</label>
            <input type="radio" name="transmission" id="transmission_dl">
            <label for="txt_server_addresss" class="ui-controlgroup-label"># Stream sever</label>
            <input id="txt_server_addresss" class="ui-spinner-input" name="sever_address">
            <button id="btn_apply">Connect</button>
        </div>
    </fieldset>

    <div id="tabs">
        <ul>
            <li><a href="#tabs-1">Dashboard</a></li>
            <li><a href="#tabs-2">Stream</a></li>
            <li><a href="#tabs-3">Statistics</a></li>
            <li><a href="#tabs-4">Reports</a></li>
        </ul>
        <div id="tabs-1">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
            labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
            aliquip ex ea commodo consequat.</div>
        <div id="tabs-2">Phasellus mattis tincidunt nibh. Cras orci urna, blandit id, pretium vel, aliquet ornare,
            felis. Maecenas scelerisque sem non nisl. Fusce sed lorem in enim dictum bibendum.</div>
        <div id="tabs-3">Nam dui erat, auctor a, dignissim quis, sollicitudin eu, felis. Pellentesque nisi urna,
            interdum eget, sagittis et, consequat vestibulum, lacus. Mauris porttitor ullamcorper augue.</div>
        <div id="tabs-4">Nam dui erat, auctor a, dignissim quis, sollicitudin eu, felis. Pellentesque nisi urna,
            interdum eget, sagittis et, consequat vestibulum, lacus. Mauris porttitor ullamcorper augue.</div>
    </div>

    <script src="jquery-ui/jquery-ui.js"></script>
    <script>
        // render
        var sever_address = []
        function update_server_address() {
            window.webcli.call('server', function (ev) {
                sever_address = JSON.parse(ev.message)
                sever_address = sever_address
            })
        }
        var txt_server = $("#txt_server_addresss").autocomplete({
            source: function (req, rsp) {
                var term = req.term
                if (term in sever_address) {
                    rsp(sever_address)
                    return
                }
                update_server_address()
            }
        });
        $("#txt_server_addresss").spinner({
            spin: function (ev, ui) {
                this.selection_idx = sever_address.indexOf(this.value)
                this.selection_idx += ui.value
                if (sever_address[this.selection_idx])
                    this.value = sever_address[this.selection_idx]
                return false
            }
        })

        $("#controlgroup").controlgroup();

        $("#tabs").tabs()

        $('#btn_apply').on('click', function (ev) {
            window.webcli.call('start', function (x) {
                console.log(x)
            });
        });
    </script>
    <script type="module" src="index.js"></script>
</body>

</html>